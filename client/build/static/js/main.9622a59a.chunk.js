(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t),n.d(t,"GET_RECIPES",(function(){return c})),n.d(t,"SINGLE_PAGE",(function(){return i})),n.d(t,"GET_DIETS",(function(){return r})),n.d(t,"FILTER_BY_DIET",(function(){return s})),n.d(t,"CHANGE_ORDER",(function(){return a})),n.d(t,"getRecipes",(function(){return u})),n.d(t,"getSinglePage",(function(){return l})),n.d(t,"filterByDiet",(function(){return o})),n.d(t,"changeOrder",(function(){return d})),n.d(t,"getDiets",(function(){return j}));var c="GET_RECIPES",i="SINGLE_PAGE",r="GET_DIETS",s="FILTER_BY_DIET",a="CHANGE_ORDER";function u(e){return function(t){return fetch("http://localhost:3001/recipes?name="+e).then((function(e){return e.json()})).then((function(e){console.log(e),t({type:c,payload:e.results})}))}}function l(e){return function(t){return fetch("http://localhost:3001/recipes/"+e).then((function(e){return e.json()})).then((function(e){t({type:i,payload:e})}))}}function o(e){return{type:s,payload:e}}function d(e){return{type:a,payload:e}}function j(){return function(e){return fetch("http://localhost:3001/diets").then((function(e){return e.json()})).then((function(t){e({type:r,payload:t})}))}}},41:function(e,t,n){},42:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(19),s=n.n(r),a=(n(41),n(4)),u=n(9),l=(n(42),n(0));function o(e){return Object(l.jsxs)("div",{id:"componentIntro",children:[Object(l.jsx)("h1",{id:"title",children:"Food app"}),Object(l.jsx)("button",{children:Object(l.jsx)(u.b,{to:"/main",children:"Get recipes!"})})]})}var d=n(11),j=n(13),b=n(12),h=(n(53),Object(j.b)((function(e){return{recipes:e.list,diets:e.diets}}),(function(e){return{getRecipes:function(t){return e(Object(b.getRecipes)(t))},getSinglePage:function(t){return e(Object(b.getSinglePage)(t))},getDiets:function(){return e(Object(b.getDiets)())},changeOrder:function(t){return e(Object(b.changeOrder)(t))},filterByDiet:function(t){return e(Object(b.filterByDiet)(t))}}}))((function(e){var t,n,i=Object(c.useState)({title:""}),r=Object(d.a)(i,2),s=r[0],a=r[1],o=Object(c.useState)(1),j=Object(d.a)(o,2),b=j[0],h=j[1],p=Object(c.useState)(9),O=Object(d.a)(p,2),m=O[0],f=O[1],x=Object(c.useState)(!1),g=Object(d.a)(x,2),v=g[0],y=g[1],E=Object(c.useState)([]),S=Object(d.a)(E,2),N=S[0],D=S[1],C=s.title;if(!e.recipes.error){t=Math.ceil(e.recipes.length/m),n=Array(t);for(var T=0;T<n.length;T++)n[T]=T}Object(c.useEffect)((function(){if(e.getDiets(),!e.recipes.error){var t=e.recipes.slice(m*(b-1),m*b);D(t)}return function(){}}),[b,m,v,e.recipes]);var _=function(e){"PREV"===e.target.name&&b>1?h(b-1):"NEXT"===e.target.name&&b<t?h(b+1):alert("No hay m\xe1s p\xe1ginas")};return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("h2",{children:"Foodie's paradise"}),Object(l.jsxs)("div",{id:"controls",children:[Object(l.jsxs)("div",{id:"elementsPerPage",children:[e.recipes.length?Object(l.jsx)("label",{children:"Elements per Page: "}):null,e.recipes.length?Object(l.jsx)("input",{type:"number",placeholder:m,min:"3",max:"10",onChange:function(e){return function(e){e.target.value<3||e.target.value>10?y(!0):(y(!1),h(1),f(e.target.value))}(e)}}):null,v&&Object(l.jsx)("p",{children:"Choose between 3 and 10"}),Object(l.jsx)("span",{children:e.recipes.length?e.recipes.length+" results":"0 results"})]}),Object(l.jsxs)("form",{className:"form-container",onSubmit:function(t){return function(t){t.preventDefault(),h(1),e.getRecipes(C)}(t)},children:[Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"text",id:"recipeTitle",autoComplete:"off",value:C,placeholder:"Find your recipes...",onChange:function(e){return function(e){e.preventDefault(),a({title:e.target.value})}(e)}})}),Object(l.jsx)("button",{type:"submit",children:"\ud83d\udd0d"}),Object(l.jsx)("button",{children:Object(l.jsx)(u.b,{to:"/create",children:"\u2795"})})]}),Object(l.jsxs)("div",{id:"resultOrder",children:[e.recipes.length?Object(l.jsx)("label",{children:"Result order: "}):null,e.recipes.length?Object(l.jsxs)("select",{name:"select",onChange:function(t){return function(t){t.preventDefault(),h(1),e.changeOrder(t.target.value)}(t)},children:[Object(l.jsx)("option",{value:"order",children:"CHANGE ORDER"}),Object(l.jsx)("option",{value:"asc",children:"Ascending(A-z)"}),Object(l.jsx)("option",{value:"desc",children:"Descending(z-A)"}),Object(l.jsx)("option",{value:"max",children:"Higher scores"}),Object(l.jsx)("option",{value:"min",children:"Lower scores"})]}):null]})]}),Object(l.jsxs)("div",{id:"dietTypes",children:[e.recipes.length?Object(l.jsx)("label",{children:"Diet types: "}):null,e.recipes.length?e.diets.map((function(t,n){return Object(l.jsx)("button",{className:"dietBtn",onClick:function(){return function(t){e.filterByDiet(t),h(1)}(t)},children:t.toUpperCase()},"".concat(t).concat(n))})):null]}),Object(l.jsx)("div",{id:"resultsBoard",children:Object(l.jsx)("ul",{children:e.recipes.error?Object(l.jsx)("h4",{children:e.recipes.error}):N&&N.map((function(t){return Object(l.jsx)("li",{id:"recipe".concat(t.id),children:t.id&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{children:Object(l.jsx)(u.b,{to:"/recipe/".concat(Math.abs(t.id)),onClick:function(){return e.getSinglePage(t.id)},children:t.title})}),Object(l.jsx)("img",{src:t.image,alt:"Imagen sin cargar..."}),Object(l.jsx)("div",{className:"dietsList",children:t.diets.map((function(e,n){return Object(l.jsx)("p",{children:e.name},"".concat(t.id,"-").concat(e.name))}))})]})},t.title)}))})}),Object(l.jsxs)("div",{id:"pageButtons",children:[e.recipes&&e.recipes.length?Object(l.jsx)("button",{name:"PREV",className:"controlBtn",onClick:function(e){_(e)},children:"PREV"}):null,n&&n.map((function(e,t){return Object(l.jsxs)("button",{className:"pageBtn",onClick:function(){return h(t+1)},children:["P\xe1gina ",t+1]},"pageButton".concat(t))})),e.recipes&&e.recipes.length?Object(l.jsx)("button",{name:"NEXT",className:"controlBtn",onClick:function(e){_(e)},children:"NEXT"}):null]})]})}))),p=(n(54),Object(j.b)((function(e){return{recipe:e.single}}),null)((function(e){return Object(c.useEffect)((function(){if(e.recipe.summary){var t=e.recipe.summary;document.getElementById("summary").innerHTML=t}if(e.recipe.instructions){var n=e.recipe.instructions;document.getElementById("description").innerHTML=n}return function(){}}),[e.recipe]),Object(l.jsxs)("div",{id:"recipeComponent",children:[Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"title",children:e.recipe.title||"Title"}),Object(l.jsxs)("span",{className:"scores",children:[Object(l.jsx)("strong",{children:"Overall: "}),e.recipe.spoonacularScore||"Score"]}),Object(l.jsxs)("span",{className:"scores",children:[Object(l.jsx)("strong",{children:"Health: "}),e.recipe.healthScore||"Health score"]}),Object(l.jsx)("img",{src:e.recipe.image||"https://upload.wikimedia.org/wikipedia/commons/6/6d/Good_Food_Display_-_NCI_Visuals_Online.jpg",alt:"imagen sin cargar"}),Object(l.jsxs)("div",{className:"summary",children:[Object(l.jsx)("h3",{children:"Summary"}),Object(l.jsx)("p",{id:"summary",children:"Elit in eu culpa ex qui enim consectetur incididunt ex adipisicing proident sit eiusmod consectetur. Nostrud qui fugiat minim aliquip amet culpa ea deserunt reprehenderit nulla officia anim. Dolor qui quis elit cupidatat consequat sunt cupidatat non voluptate. Laboris adipisicing voluptate nostrud nisi culpa consectetur. Eu non duis labore dolor veniam quis sint."})]}),Object(l.jsxs)("div",{className:"description",children:[Object(l.jsx)("h3",{children:"Instructions step-by-step"}),Object(l.jsx)("p",{id:"description",children:"Elit in eu culpa ex qui enim consectetur incididunt ex adipisicing proident sit eiusmod consectetur. Nostrud qui fugiat minim aliquip amet culpa ea deserunt reprehenderit nulla officia anim. Dolor qui quis elit cupidatat consequat sunt cupidatat non voluptate. Laboris adipisicing voluptate nostrud nisi culpa consectetur. Eu non duis labore dolor veniam quis sint."})]})]}),Object(l.jsx)("div",{id:"buttons",children:Object(l.jsx)(u.b,{to:"/main",children:Object(l.jsx)("button",{children:"Go back"})})})]})}))),O=n(14),m=n(18),f=n(3),x=n(35),g=n.n(x);n(73);var v=Object(j.b)((function(e){return{diets:e.diets}}),(function(e){return{getDiets:function(){return e(Object(b.getDiets)())}}}))((function(e){var t=i.a.useState({title:"",summary:"",score:"",health:"",instructions:"<ul><li></li><li></li></ul>",diets:[]}),n=Object(d.a)(t,2),r=n[0],s=n[1],a=i.a.useState({title:"",summary:"",score:"",health:"",instructions:"",diets:[""],status:!0}),o=Object(d.a)(a,2),j=o[0],b=o[1],h=i.a.useState(""),p=Object(d.a)(h,2),x=p[0],v=p[1];Object(c.useEffect)((function(){return e.getDiets(),function(){}}),[x]);var y=function(e){s(Object(f.a)(Object(f.a)({},r),{},Object(m.a)({},e.target.name,e.target.value))),b(function(e){var t={};e.title?t.status=!0:(t.title="Title is required",t.status=!1);e.summary?e.title?t.status=!0:t.status=!1:(t.summary="Summary is required",t.status=!1);e.score?/^(?!0)[0-9]{1,2}$/.test(e.score)?e.title&&e.summary?t.status=!0:t.status=!1:(t.score="Score must be a number from 1 to 99",t.status=!1):(t.score="Score is required ",t.status=!1);e.health?/^(?!0)[0-9]{1,2}$/.test(e.health)?e.title&&e.summary&&e.score&&/^(?!0)[0-9]{1,2}$/.test(e.score)?t.status=!0:t.status=!1:(t.health="Health score must be a number from 1 to 99",t.status=!1):(t.health="Health score is required ",t.status=!1);return t}(Object(f.a)(Object(f.a)({},r),{},Object(m.a)({},e.target.name,e.target.value))))},E=function(e){e.target.checked?s(Object(f.a)(Object(f.a)({},r),{},{diets:[].concat(Object(O.a)(r.diets),[e.target.value])})):s(Object(f.a)(Object(f.a)({},r),{},{diets:r.diets.filter((function(t){return t!==e.target.value}))}))};return Object(l.jsxs)("div",{id:"formComponent",children:[Object(l.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),!1===j.status?alert("There are errors in your form, check again"):r.title?g.a.post("http://localhost:3001/recipe",r).then((function(e){v("".concat(e.data.title," has been created")),s({title:"",summary:"",score:"",health:"",instructions:"",diets:[]}),document.querySelectorAll("input[type=checkbox]").forEach((function(e){e.checked=!1}))})):alert("The recipe needs a title")}(e)},children:[Object(l.jsxs)("div",{id:"labels",children:[Object(l.jsx)("label",{children:"Title:"}),j.title&&Object(l.jsx)("p",{className:"danger",children:j.title}),Object(l.jsx)("input",{className:"".concat(j.title&&"danger"),type:"text",name:"title",value:r.title,onChange:y}),Object(l.jsx)("label",{children:"Summary:"}),j.summary&&Object(l.jsx)("p",{className:"danger",children:j.summary}),Object(l.jsx)("textarea",{className:"".concat(j.summary&&"danger"),type:"text",name:"summary",value:r.summary,onChange:y}),Object(l.jsxs)("div",{id:"scores",children:[Object(l.jsx)("label",{children:"Score:"}),Object(l.jsx)("input",{className:"".concat(j.score&&"danger"),type:"number",min:"1",max:"99",name:"score",value:r.score,onChange:y}),j.score&&Object(l.jsx)("p",{className:"danger",children:j.score}),Object(l.jsx)("label",{children:"Health:"}),Object(l.jsx)("input",{className:"".concat(j.health&&"danger"),type:"number",min:"1",max:"99",name:"health",value:r.health,onChange:y}),j.health&&Object(l.jsx)("p",{className:"danger",children:j.health})]}),Object(l.jsx)("label",{children:"Instructions:"}),Object(l.jsx)("textarea",{className:"".concat(j.instructions&&"danger"),type:"text",name:"instructions",value:r.instructions,onChange:y}),j.instructions&&Object(l.jsx)("p",{className:"danger",children:j.instructions})]}),Object(l.jsx)("div",{id:"dietBox",children:Object(l.jsx)("ul",{children:e.diets.map((function(e){return Object(l.jsxs)("li",{children:[e,Object(l.jsx)("input",{type:"checkbox",value:e,onChange:E},e)]})}))})}),Object(l.jsxs)("div",{id:"buttons",children:[Object(l.jsx)("div",{id:"submit",children:Object(l.jsx)("button",{type:"submit",children:"Submit recipe"})}),Object(l.jsx)("div",{id:"back",children:Object(l.jsx)(u.b,{to:"/main",children:Object(l.jsx)("button",{children:"Go back"})})})]})]}),x&&Object(l.jsx)("p",{id:"response",children:x})]})}));n(74);var y=function(){return Object(l.jsxs)(i.a.Fragment,{children:[Object(l.jsx)(a.a,{exact:!0,path:"/",component:o}),Object(l.jsx)(a.a,{exact:!0,path:"/main/",component:h}),Object(l.jsx)(a.a,{exact:!0,path:"/recipe/:id",component:p}),Object(l.jsx)(a.a,{exact:!0,path:"/create",component:v})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),r(e),s(e)}))},S=n(21),N=n(12),D=N.GET_RECIPES,C=N.SINGLE_PAGE,T=N.GET_DIETS,_=N.FILTER_BY_DIET,I=N.CHANGE_ORDER,R={list:[],diets:[],single:{}};function G(e,t){return e.title<t.title?-1:e.title>t.title?1:0}function P(e,t){return e.title<t.title?1:e.title>t.title?-1:0}function q(e,t){return e.spoonacularScore-t.spoonacularScore}function B(e,t){return t.spoonacularScore-e.spoonacularScore}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(f.a)(Object(f.a)({},e),{},{list:t.payload});case C:return Object(f.a)(Object(f.a)({},e),{},{single:t.payload});case T:var n=t.payload.map((function(e){return e.name}));return Object(f.a)(Object(f.a)({},e),{},{diets:n});case _:for(var c=[],i=0;i<e.list.length;i++)for(var r=e.list[i],s=0;s<r.diets.length;s++){var a=r.diets[s];a.name===t.payload&&c.push(r)}return Object(f.a)(Object(f.a)({},e),{},{list:[].concat(c)});case I:var u=Object(O.a)(e.list);return"asc"===t.payload?(u.sort(G),Object(f.a)(Object(f.a)({},e),{},{list:Object(O.a)(u)})):"desc"===t.payload?(u.sort(P),Object(f.a)(Object(f.a)({},e),{},{list:Object(O.a)(u)})):"max"===t.payload?(u.sort(B),Object(f.a)(Object(f.a)({},e),{},{list:Object(O.a)(u)})):"min"===t.payload?(u.sort(q),Object(f.a)(Object(f.a)({},e),{},{list:Object(O.a)(u)})):e;default:return e}},L=n(36),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||S.b,F=Object(S.c)(k,A(Object(S.a)(L.a)));s.a.render(Object(l.jsx)(j.a,{store:F,children:Object(l.jsx)(u.a,{children:Object(l.jsx)(y,{})})}),document.getElementById("root")),E()}},[[75,1,2]]]);
//# sourceMappingURL=main.9622a59a.chunk.js.map